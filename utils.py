import random
from datetime import datetime

class TarotUtils:
    @staticmethod
    def get_card_emoji(card_name):
        """ะะพะทะฒัะฐัะฐะตั ัะผะพะดะทะธ ะดะปั ะบะฐััั"""
        emojis = {
            "ะะฐะณ": "โก",
            "ะะตััะพะฒะฝะฐั ะัะธัะฐ": "๐", 
            "ะะผะฟะตัะฐััะธัะฐ": "๐",
            "ะะผะฟะตัะฐัะพั": "๐",
            "ะะตัะพัะฐะฝั": "๐ฟ",
            "ะะปัะฑะปะตะฝะฝัะต": "๐",
            "ะะพะปะตัะฝะธัะฐ": "๐ก๏ธ",
            "ะกะธะปะฐ": "๐ช",
            "ะััะตะปัะฝะธะบ": "๐ฏ๏ธ",
            "ะะพะปะตัะพ ะคะพัััะฝั": "๐",
            "ะกะฟัะฐะฒะตะดะปะธะฒะพััั": "โ๏ธ",
            "ะะพะฒะตัะตะฝะฝัะน": "๐",
            "ะกะผะตััั": "๐",
            "ะฃะผะตัะตะฝะฝะพััั": "โ๏ธ",
            "ะััะฒะพะป": "๐",
            "ะะฐัะฝั": "๐ฐ",
            "ะะฒะตะทะดะฐ": "โญ",
            "ะัะฝะฐ": "๐",
            "ะกะพะปะฝัะต": "โ๏ธ",
            "ะกัะด": "๐บ",
            "ะะธั": "๐",
            "ะจัั": "๐"
        }
        return emojis.get(card_name, "๐ฎ")
    
    @staticmethod
    def format_reading(question, card, interpretation):
        """ะคะพัะผะฐัะธััะตั ัะฐัะบะปะฐะด ะดะปั ะพัะพะฑัะฐะถะตะฝะธั"""
        emoji = TarotUtils.get_card_emoji(card['name'])
        reversed_text = " (ะฟะตัะตะฒะตัะฝััะฐ)" if card['reversed'] else ""
        
        return f"""โจ *ะะฐัะบะปะฐะด ะขะฐัะพ*

*ะะพะฟัะพั:* {question}
*ะะฐััะฐ:* {emoji} {card['name']}{reversed_text}
*ะะฝะฐัะตะฝะธะต:* {card['meaning']}

๐ *ะะฝัะตัะฟัะตัะฐัะธั:*
{interpretation}"""
